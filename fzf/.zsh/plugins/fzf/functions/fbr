# fbr - checkout git branch (including remote branches)
local branches=$(git branch --all | grep -v HEAD) || return $?

local fzf_height=$(( 2 + $(wc -l <<< "$branches") ))

local fzf
if [[ -n "$TMUX" ]]; then
  fzf="fzf-tmux -d $fzf_height --"
else
  fzf="fzf --height=$fzf_height"
fi

local branch=$(echo "$branches" | $=fzf +m) && \
  git checkout $(echo "$branch" | sed "s/.* //" | sed "s#remotes/[^/]*/##")

# vim: ft=zsh
